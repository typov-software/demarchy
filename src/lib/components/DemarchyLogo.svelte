<script lang="ts">
  export let width: string | number = 300;
  export let animate = true;
</script>

<a href="/" title="Demarchy">
  <svg {width} viewBox="0 0 606 115" fill="none" xmlns="http://www.w3.org/2000/svg" class:animate>
    <!-- Duplicate layers without blending mode to reinforce bottom overlap -->
    <path
      d="M29.5007 28.9849H55.2287C62.6527 28.9849 69.1487 30.3289 74.7167 33.0169C80.3487 35.7049 84.7007 39.5449 87.7727 44.5369C90.8447 49.5289 92.3807 55.4169 92.3807 62.2009C92.3807 73.3369 89.0527 81.7849 82.3967 87.5449C75.8047 93.2409 66.7487 96.0889 55.2287 96.0889H29.5007V28.9849ZM56.7647 74.9689C65.0847 74.9689 69.2447 70.7129 69.2447 62.2009C69.2447 58.2969 68.1567 55.3209 65.9807 53.2729C63.8047 51.1609 60.7327 50.1049 56.7647 50.1049H52.2527V74.9689H56.7647ZM97.1882 28.9849H146.916V48.0889H119.94V53.9449H139.044V71.1289H119.94V76.9849H146.916V96.0889H97.1882V28.9849ZM151.751 28.9849H171.815L188.807 64.5049L205.799 28.9849H225.863V96.0889H204.839V71.2249L192.455 96.0889H185.159L172.775 71.2249V96.0889H151.751V28.9849Z"
      class="front backup fill-primary"
    />
    <path
      d="M255.086 28.985H276.59L303.47 96.089H280.142L275.822 84.377H255.854L251.534 96.089H228.206L255.086 28.985ZM270.83 67.673L265.838 52.217L260.846 67.673H270.83ZM308.313 28.985H340.569C348.889 28.985 355.481 31.065 360.345 35.225C365.209 39.385 367.641 45.433 367.641 53.369C367.641 58.361 366.649 62.617 364.665 66.137C362.681 69.593 359.865 72.313 356.217 74.297L366.777 96.089H343.833L335.001 77.753H330.681V96.089H308.313V28.985ZM335.769 60.761C341.593 60.761 344.505 58.297 344.505 53.369C344.505 48.441 341.593 45.977 335.769 45.977H330.681V60.761H335.769ZM406.264 97.529C398.712 97.529 392.12 96.153 386.488 93.401C380.92 90.585 376.632 86.553 373.624 81.305C370.616 75.993 369.112 69.753 369.112 62.585C369.112 55.353 370.616 49.113 373.624 43.865C376.632 38.617 380.92 34.585 386.488 31.769C392.12 28.953 398.712 27.5449 406.264 27.5449C411.192 27.5449 415.544 27.9609 419.32 28.793C423.096 29.625 426.584 30.969 429.784 32.825V54.329C427.032 52.281 423.896 50.809 420.376 49.913C416.92 49.017 412.888 48.569 408.28 48.569C403.288 48.569 399.352 49.785 396.472 52.217C393.656 54.585 392.248 58.041 392.248 62.585C392.248 67.129 393.688 70.617 396.568 73.049C399.448 75.417 403.352 76.601 408.28 76.601C412.76 76.601 416.792 76.121 420.376 75.161C423.96 74.137 427.352 72.601 430.552 70.553V91.961C424.088 95.673 415.992 97.529 406.264 97.529ZM435.344 28.985H458.096V51.449H476.528V28.985H499.28V96.089H476.528V72.569H458.096V96.089H435.344V28.985ZM528.4 70.457L504.112 28.985H528.4L539.824 50.201L552.208 28.985H576.4L551.152 70.457V96.089H528.4V70.457Z"
      class="front backup fill-secondary"
    />

    <!-- Back row -->
    <path
      d="M23.5659 20.4346H49.8542C57.4399 20.4346 64.0774 21.8078 69.7666 24.5544C75.5213 27.3009 79.9681 31.2246 83.107 36.3253C86.2459 41.426 87.8153 47.4422 87.8153 54.374C87.8153 65.7525 84.4149 74.3845 77.6139 80.2699C70.8783 86.09 61.6251 89 49.8542 89H23.5659V20.4346ZM51.4237 67.42C59.9249 67.42 64.1755 63.0713 64.1755 54.374C64.1755 50.3849 63.0638 47.3441 60.8404 45.2515C58.617 43.0935 55.4781 42.0145 51.4237 42.0145H46.8134V67.42H51.4237ZM92.7275 20.4346H143.539V39.9546H115.975V45.9382H135.495V63.4964H115.975V69.4799H143.539V89H92.7275V20.4346ZM148.478 20.4346H168.979L186.341 56.7281L203.704 20.4346H224.204V89H202.723V63.5945L190.069 89H182.614L169.96 63.5945V89H148.478V20.4346Z"
      class="back fill-secondary"
    />
    <path
      d="M254.064 20.4345H276.036L303.502 88.9999H279.666L275.252 77.0328H254.849L250.435 88.9999H226.598L254.064 20.4345ZM270.151 59.965L265.05 44.1724L259.949 59.965H270.151ZM308.451 20.4345H341.409C349.91 20.4345 356.646 22.5598 361.616 26.8104C366.586 31.061 369.071 37.2407 369.071 45.3495C369.071 50.4502 368.057 54.7989 366.03 58.3956C364.003 61.9269 361.125 64.7061 357.398 66.7333L368.188 88.9999H344.744L335.72 70.2646H331.306V88.9999H308.451V20.4345ZM336.505 52.9025C342.455 52.9025 345.431 50.3848 345.431 45.3495C345.431 40.3142 342.455 37.7965 336.505 37.7965H331.306V52.9025H336.505ZM408.535 90.4713C400.818 90.4713 394.083 89.0653 388.328 86.2534C382.639 83.376 378.257 79.2562 375.184 73.8939C372.11 68.4662 370.573 62.0903 370.573 54.7662C370.573 47.3767 372.11 41.0008 375.184 35.6385C378.257 30.2762 382.639 26.1565 388.328 23.2791C394.083 20.4018 400.818 18.9631 408.535 18.9631C413.57 18.9631 418.017 19.3882 421.875 20.2383C425.733 21.0884 429.297 22.4617 432.567 24.3581V46.3304C429.755 44.2378 426.551 42.7338 422.954 41.8182C419.423 40.9027 415.303 40.445 410.594 40.445C405.494 40.445 401.472 41.6875 398.529 44.1724C395.652 46.592 394.213 50.1233 394.213 54.7662C394.213 59.4092 395.685 62.9732 398.627 65.4581C401.57 67.8777 405.559 69.0875 410.594 69.0875C415.172 69.0875 419.292 68.597 422.954 67.6161C426.616 66.5698 430.082 65.0004 433.352 62.9078V84.782C426.747 88.5748 418.474 90.4713 408.535 90.4713ZM438.248 20.4345H461.496V43.3877H480.329V20.4345H503.577V88.9999H480.329V64.9677H461.496V88.9999H438.248V20.4345ZM533.331 62.8097L508.514 20.4345H533.331L545.003 42.1125L557.657 20.4345H582.376L556.578 62.8097V88.9999H533.331V62.8097Z"
      class="back fill-primary"
    />

    <!-- Front row -->
    <path
      d="M29.5007 28.9849H55.2287C62.6527 28.9849 69.1487 30.3289 74.7167 33.0169C80.3487 35.7049 84.7007 39.5449 87.7727 44.5369C90.8447 49.5289 92.3807 55.4169 92.3807 62.2009C92.3807 73.3369 89.0527 81.7849 82.3967 87.5449C75.8047 93.2409 66.7487 96.0889 55.2287 96.0889H29.5007V28.9849ZM56.7647 74.9689C65.0847 74.9689 69.2447 70.7129 69.2447 62.2009C69.2447 58.2969 68.1567 55.3209 65.9807 53.2729C63.8047 51.1609 60.7327 50.1049 56.7647 50.1049H52.2527V74.9689H56.7647ZM97.1882 28.9849H146.916V48.0889H119.94V53.9449H139.044V71.1289H119.94V76.9849H146.916V96.0889H97.1882V28.9849ZM151.751 28.9849H171.815L188.807 64.5049L205.799 28.9849H225.863V96.0889H204.839V71.2249L192.455 96.0889H185.159L172.775 71.2249V96.0889H151.751V28.9849Z"
      class="front fill-primary mix-blend-lighten"
    />
    <path
      d="M255.086 28.985H276.59L303.47 96.089H280.142L275.822 84.377H255.854L251.534 96.089H228.206L255.086 28.985ZM270.83 67.673L265.838 52.217L260.846 67.673H270.83ZM308.313 28.985H340.569C348.889 28.985 355.481 31.065 360.345 35.225C365.209 39.385 367.641 45.433 367.641 53.369C367.641 58.361 366.649 62.617 364.665 66.137C362.681 69.593 359.865 72.313 356.217 74.297L366.777 96.089H343.833L335.001 77.753H330.681V96.089H308.313V28.985ZM335.769 60.761C341.593 60.761 344.505 58.297 344.505 53.369C344.505 48.441 341.593 45.977 335.769 45.977H330.681V60.761H335.769ZM406.264 97.529C398.712 97.529 392.12 96.153 386.488 93.401C380.92 90.585 376.632 86.553 373.624 81.305C370.616 75.993 369.112 69.753 369.112 62.585C369.112 55.353 370.616 49.113 373.624 43.865C376.632 38.617 380.92 34.585 386.488 31.769C392.12 28.953 398.712 27.5449 406.264 27.5449C411.192 27.5449 415.544 27.9609 419.32 28.793C423.096 29.625 426.584 30.969 429.784 32.825V54.329C427.032 52.281 423.896 50.809 420.376 49.913C416.92 49.017 412.888 48.569 408.28 48.569C403.288 48.569 399.352 49.785 396.472 52.217C393.656 54.585 392.248 58.041 392.248 62.585C392.248 67.129 393.688 70.617 396.568 73.049C399.448 75.417 403.352 76.601 408.28 76.601C412.76 76.601 416.792 76.121 420.376 75.161C423.96 74.137 427.352 72.601 430.552 70.553V91.961C424.088 95.673 415.992 97.529 406.264 97.529ZM435.344 28.985H458.096V51.449H476.528V28.985H499.28V96.089H476.528V72.569H458.096V96.089H435.344V28.985ZM528.4 70.457L504.112 28.985H528.4L539.824 50.201L552.208 28.985H576.4L551.152 70.457V96.089H528.4V70.457Z"
      class="front fill-secondary mix-blend-lighten"
    />
  </svg>
</a>

<style lang="scss">
  .animate {
    path {
      animation-timing-function: cubic-bezier(0.85, 0, 0.15, 1); // circ in out
    }
    .front {
      animation-iteration-count: infinite;
      animation-direction: alternate;
    }

    .front.fill-primary {
      animation-name: front-walk;
      animation-direction: alternate-reverse;
      animation-duration: 1000ms;
    }
    .front.fill-secondary {
      animation-name: front-walk;
      animation-direction: alternate;
      animation-duration: 1100ms;
    }

    .back {
      animation-iteration-count: infinite;
      animation-direction: alternate;
    }

    .back.fill-primary {
      animation-name: back-walk;
      animation-direction: alternate;
      animation-duration: 1500ms;
    }

    .back.fill-secondary {
      animation-name: back-walk;
      animation-direction: alternate-reverse;
      animation-duration: 1600ms;
    }

    @keyframes front-walk {
      0% {
        transform: translate(0, 0);
      }
      100% {
        transform: translate(15px, 0);
        opacity: 0.5;
      }
    }
    @keyframes back-walk {
      0% {
        transform: translate(0, 0);
      }
      100% {
        transform: translate(0, 15px);
        opacity: 0.5;
      }
    }
  }
</style>
